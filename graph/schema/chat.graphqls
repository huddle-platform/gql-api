
enum MessageAuthor{
    ME
    OTHER
}
type Message{
    author: MessageAuthor!
    content: String!
    time: Time!
}


type Chat{
    me: User!
    other: User!
    messages(start: Int!=0,count:Int!=20): [Message!]!
}

extend type Query{
    chat(with: ID!): Chat!
    chats: [Chat!]
    getChatByUsername(withUsername:String!): Chat
    getChatById(withUserId:ID!): Chat
}
extend type Mutation{
    writeMessageToUser(userId:ID!, content: String!): Boolean!
}

scalar Time