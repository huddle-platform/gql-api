
enum MessageAuthor{
    ME
    OTHER
}
type Message{
    author: MessageAuthor!
    content: String!
    time: Time!
}


type Chat{
    me: User!
    other: User!
    messages(start: Int!=0,count:Int!=20): [Message!]!
    writeMessage(content: String!): Message!
}

extend type Mutation{
    chat(with: ID!): Chat!
    chats: [Chat!]
    newChat(withUsername:String!): Chat
}

scalar Time